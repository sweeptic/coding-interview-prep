<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>

<body style="background-color: black;">


   <script>



      function arrayManipulation(n, queries) {

         let sortedArr = queries.sort(function (a, b) {
            return b[2] - a[2] || b[1] - a[1];
            // return b[2] -a[2] ;
         });


         let sumArr = [];
         let chainArr = [];

         for (let index = 1; index < sortedArr.length; index++) {
            let prev = sortedArr[index - 1];
            let actual = sortedArr[index];

            //tovabb visszuk az elozot vagy uj lancot kezdunk?
            let item = chainArr.length === 0 ? prev : chainArr;

            if (actual[0] <= item[1]) {
               // console.log(chainArr[2]);
               //van kozos elem
               chainArr[0] = actual[0];
               chainArr[1] = Math.min(actual[1], item[1]);
               chainArr[2] = actual[2] + item[2];

            }

            // if (actual[0] > item[1]) {
            //    //nincs kozos elem
            //    // if (!sumArr || sumArr[2] < item[2]) {
            //    // sumArr = (item);
            //    sumArr.push(item)
            //    // }
            //    chainArr = [];
            // }

            if (index === sortedArr.length - 1) {
               // console.log(chainArr.length)
               //utolso elem
               if (chainArr.length !== 0) {
                  // console.log(actual[0].item[1]);
                  item = chainArr;
               } else {
                  item = actual;
               }

               // console.log(item)

               sumArr.push(item)
               // }

            }

         }
         console.log(sortedArr)
         console.log(sumArr);
         // console.log(sumArr[2]);

         // return sumArr[2]

      }


      // arrayManipulation(5, [[1, 2, 100], [2, 5, 100], [3, 4, 100]]);
      // arrayManipulation( 10, [ [ 2, 6, 8 ], [ 3, 5, 7 ], [ 1, 8, 1 ], [ 5, 9, 15 ] ]);
      /*
            arrayManipulation(5, [
               [1, 38, 10],
               [3, 26, 20],
                [4, 44, 30],
                [5, 30, 40],
                [6, 15, 50],
      
                [16, 50, 60],
                [17, 60, 70]
            ]);
      */


      arrayManipulation(30, [
         [1, 38, 892],
         [3, 39, 107],
         [3, 32, 11],
         [3, 26, 640],
         [3, 10, 905],
         [4, 24, 531],
         [5, 25, 29],
         [5, 22, 300],
         [8, 39, 483],
         [8, 22, 719],
         [8, 11, 194],
         [9, 26, 219],
         [9, 20, 20],//9-10 5050

         [11, 31, 969],
         [11, 30, 832],
         [11, 24, 83],
         [12, 37, 131],
         [12, 37, 502],
         [12, 18, 825],
         [14, 22, 321],
         [15, 23, 102],
         [15, 22, 335],
         [16, 24, 577],//16-18 4677

         [21, 31, 214],
         [25, 32, 99],
         [29, 40, 787],
         [29, 35, 254],
         [29, 35, 267],
         [30, 38, 564],//30-31 2185

         [33, 34, 351]//33-34 351

      ])

   </script>


</body>

</html>