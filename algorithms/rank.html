<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>

<body style="background-color: black;">


   <script>




      function minimumSwaps(arr) {
         let count = 0;
         let array = Object.assign([], arr);
         console.log('kiindulasi tomb', array)
         for (let index = 0; index < array.length; index++) {

            if ((array[index] !== index + 1
               && array[index] !== undefined
            )) {
               console.warn('wrong place')

               let diff = (index + 1) - array[index];

               console.log(array[index], 'tavolsag a helyetol: ', diff);

               let a = array[index]

               let mutatottIndex = array[index] - 1;
               console.log(mutatottIndex)

               let endPeriod = false

               while ((/*(count < 10) &&*/ !endPeriod)
                  && array[mutatottIndex] !== undefined
                  && array[array[mutatottIndex] - 1] !== undefined
               ) {
                  console.log('while')

                  let del = mutatottIndex
                  console.log('a:', array[mutatottIndex])
                  console.log('b:', array[array[mutatottIndex] - 1])
                  // let innerDiff = array[array[mutatottIndex] - 1] - array[mutatottIndex]

                  console.log('pair:',array[array[mutatottIndex] - 1],'-', a )


                  // if(array[array[mutatottIndex] - 1] === a){
                  //    console.log(object)
                  // }

                  // if (Math.abs(diff) === Math.abs(innerDiff)) {
                  //    console.log('PAIR:',
                  //       diff, '  ',
                  //       innerDiff)
                  //    endPeriod = true;
                  // }

                  // 
                  mutatottIndex = array[mutatottIndex] - 1
                  count++;
                  array[del] = undefined;

               }

            }

         }
         console.log('count:', count)
         console.log(array)
         return count
      }

      // minimumSwaps([2, 3, 4, 1, 5]);      //3
      // minimumSwaps([7, 1, 3, 2, 4, 5, 6]);      //5
      // minimumSwaps([4, 3, 1, 2]);      //3
      // minimumSwaps([2, 3, 4, 1, 5]);      //3
      minimumSwaps([1, 3, 5, 2, 4, 6, 7]);      //3


      /*
      5 4 2 1 3
      1 4 2 5 3
      1 2 4 5 3
      1 2 3 5 4
      1 2 3 4 5
*/




      // function minimumSwaps(arr) {
      //    let array = Object.assign([], arr);
      //    console.log(array);
      //    let min;
      //    let idx;
      //    let count = 0;

      //    for (let i = 0; i < array.length; i++) {

      //       min = array[i];
      //       idx = false;
      //       for (let j = i; j < array.length; j++) {
      //          if (array[j] < min) {
      //             idx = j;
      //             min = array[j];
      //          }
      //       }
      //       if (idx) {
      //          count++
      //          [array[idx], array[i]] = [array[i], array[idx]];
      //       }
      //    }

      //    console.log(array);
      //    console.log(count)
      // }


      // minimumSwaps([1, 3, 5, 2, 4, 6, 7])    //3

      // minimumSwaps([4, 3, 1, 2])    //3
      // minimumSwaps([1, 3, 5, 2, 4, 6, 7])    //3
      // minimumSwaps([1, 3, 5, 2, 4, 6, 7])    //3







      // function merger(left, right) {
      //    let arr = [];
      //    while (left.length && right.length) {
      //       if (left[0] < right[0]) {
      //          console.log('change')
      //          arr.push(left.shift())
      //       } else {
      //          console.log('change');
      //          arr.push(right.shift())
      //       }
      //    }
      //    return [...arr, ...left, ...right]
      // }


      // function minimumSwaps(array) {

      //    if (array.length <= 1) return array;

         // let pivot = array[0];
         // let left = [];
         // let right = [];

         // array.map(item => {
         //    if (item !== pivot) {

         //       if (item < pivot) {
         //          left.push(item);
         //          console.log('swap')
         //       } else {
         //          // console.log('swap')
         //          right.push(item);
         //       }
         //    }
         // })

         // return minimumSwaps(left).concat(pivot, minimumSwaps(right))


      //    let middle = Math.floor(array.length / 2)
      //    let left = minimumSwaps(array.slice(0, middle));
      //    let right = minimumSwaps(array.slice(middle));
      //    return merger(left, right)
      // }

      // console.log(
      //    // minimumSwaps([7, 1, 3, 2, 4, 5, 6])    //5
      //    minimumSwaps([2, 3, 4, 1, 5])    //3


      // )



      /*

            // function merger(left, right) {
            //    let arr = [];
            //    while (left.length && right.length) {
            //       if (left[0] < right[0]) {
            //          // console.log('change')
            //          arr.push(left.shift())
            //       } else {
            //          // console.log('change');
            //          arr.push(right.shift()) }
            //    }
            //    return [...arr, ...left, ...right]
            // }


            function minimumSwaps(array) {

               if (array.length <= 1) return array;

               let pivot = array[0];
               let left = [];
               let right = [];

               array.map(item => {
                  if (item !== pivot) {

                     if (item < pivot) {
                        left.push(item);
                        console.log('swap')
                     } else {
                        // console.log('swap')
                        right.push(item);
                     }
                  }
               })

               return minimumSwaps(left).concat(pivot, minimumSwaps(right))


               // let middle = Math.floor(array.length / 2)
               // let left = minimumSwaps(array.slice(0, middle));
               // let right = minimumSwaps(array.slice(middle));
               // return merger(left, right)
            }

      */



   </script>


</body>

</html>