<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>

<body>
   <h2>Algorithms: Find the Symmetric Difference</h2>
   <script>


      // My solution
      function diff(...args) {
         let arr = args.flat();
         let result = []
         arr.map(item_a => {
            let count = 0;
            arr.map(item_b => {
               if (item_a === item_b) count++;
            })
            if (count === 1) result.push(item_a)
         })
         return result
      }

      function sym(...args) {
         let set = args.map(x => [...new Set([...x])])
         let result = set.reduce((acc, item, index, array) => {

            if (!index) {
               acc = diff(item, array[index + 1])
            } else if (index + 1 < set.length) {
               acc = diff(acc, array[index + 1])
            }
            return acc
         }, [])

         return result;
      }

      console.log(
         sym([3, 3, 3, 2, 5], [2, 1, 5, 7], [3, 4, 6, 6], [1, 2, 3])
      )



      //       Code Explanation
      // The main function sym() reduces given arrays utilising helper function diff() to a single array. Also, it temporary converts the result to Set to remove duplicates.

      // The function diff() returns the symmetric difference of two arrays by picking out elements in parameterised arrays; arr1 and arr2.

      const diff2 = (acc, item) => [
         ...acc.filter(e => !item.includes(e)),
         ...item.filter(e => !acc.includes(e))
      ];

      const sym2 = (...args) => [...new Set(args.reduce(diff2))];


      console.log(
         sym2([3, 3, 3, 2, 5], [2, 1, 5, 7], [3, 4, 6, 6], [1, 2, 3])
      )

   </script>

</body>

</html>